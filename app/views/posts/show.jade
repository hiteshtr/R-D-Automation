extends ../layouts/default

block main
  center
      h2|Posts

block content
  center
    h4|List of Posts
  
  
  .table-responsive
    table(class='table table-striped table-bordered table-condensed')
      thead
        tr
          th #
          th Post Name
          th Post Type
          th Post Qualification
          th Post Designation
          th
          th
      tbody
        cnt = 0;
        ptype = "";
        - each po in posts
          case po.post_type
            when "1"
              ptype = "Contractual Position";
            when "2"
              ptype = "Permanent Position";

          case po.post_desig
            when "1"
              pdesig = "Scientific Staff"
            when "2"
              pdesig = "Technical Staff"
            when "3"
              pdesig = "Administrative Staff"
            when "4"
              pdesig = "Academic Staff"
          
      
          tr
            td=++cnt
              .
            td=po.post_name
            td=ptype
            td=po.post_qualification
            td=pdesig
            td
                form(method="get", action="/posts/:id/edit")
                  input(type="hidden", value=po._id.toHexString(), name="_id")
                  input(type="submit", value="Edit", class="formLink")
            td
                form( method="post", action="/posts/:id") 
                  input(type='hidden', name="_method", value="delete") 
                  input(type='hidden', name='_csrf', value="#{csrf_token}")
                  input(name="_id", type="hidden", value=po._id.toHexString()) 
                  input(type="submit", value="Delete", class="formLink")
      tbody         
        if cnt == 0
         tr
           td
           td No entries found
           td
           td
           td
           td
           td