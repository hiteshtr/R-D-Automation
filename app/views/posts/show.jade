extends ../layouts/default

block main
  center
      h2|Posts

block content
  center
    h4|List of Posts
  .table-responsive
    table(class='table table-striped table-bordered table-condensed')
      thead
        tr
          th #
          th Post Name
          th Post Type
          th Post Qualification
          th Post Designation
          th
          th
      tbody
        - each post,i in posts
          tr
            td
              form( method="post", action="/posts/#{post._id}") 
               input(type='hidden', name="_method", value="delete") 
               input(type='hidden', name='_csrf', value="#{csrf_token}")
               input(name="_id", type="hidden", value=post._id.toHexString()) 
               button.btn.btn-default.glyphicon.glyphicon-trash(type='submit',onclick="return confirm('Are you sure to delete?')")
            td
              input.form-control(type='text', name="post_name",value=post.post_name, disabled='false',id='post_name#{i}')=post.post_name
            td
              select.form-control(name="post_type", id="post_type#{i}", disabled='true')
                if post.post_type == "1"
                  option(value=1, selected) Contractual Position
                else
                  option(value=1) Contractual Position

                if post.post_type == "2"
                  option(value=2, selected) Permanent Position
                else
                  option(value=2) Permanent Position
            td
              input.form-control(type='text', name="post_qualification",value=post.post_qualification, disabled='false' ,id='post_qualification#{i}')=post.post_qualification
            td
              select.form-control(name="post_desig", id="post_desig#{i}", disabled='true')
                if post.post_desig == "1"
                    option(value=1, selected) Scientific Staff
                else
                    option(value=1) Scientific Staff

                if post.post_desig == "2"
                    option(value=2, selected) Technical Staff
                else
                    option(value=2) Technical Staff

                if post.post_desig == "3"
                    option(value=3, selected) Admiistrative Staff
                else
                    option(value=3) Admiistrative Staff

                if post.post_desig == "4"
                    option(value=4, selected) Academic Staff
                else
                    option(value=4) Academic Staff
            td
              input(type="hidden", value=post._id.toHexString(), name="_id")
              button.btn.btn-default(onclick="enablepost('update#{i}','post_type#{i}','post_desig#{i}','post_name#{i}','post_qualification#{i}')") Edit
            td
              form( method="post", action="/posts/#{post_id}") 
                input(type='hidden', name="_method", value="put") 
                input(type='hidden', name='_csrf', value="#{csrf_token}")
                input(name="_id", type="hidden", value=post._id.toHexString()) 
                button.btn.btn-default(type='submit', disabled='true',id='update#{i}',onclick="return confirm('Are you sure to Update?')") Update
      