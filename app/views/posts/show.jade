extends ../layouts/default

block main
  center
      h2|List of Posts

block content
  .col-sm-3
    form(method="get",action="/posts")
      button.btn.btn-default(type='submit') Add New Post
  .col-sm-9
   br
   br
  .row
    .col-sm-11
      .table-responsive
      table(class='table table-striped table-bordered table-condensed')
        thead
          tr
            th #
            th Designation
            th Minimum Qualification
            th Minimum Experience
            th Designation Type
            th Designation Staff
            th
            th
        tbody
          - each post,i in posts
            tr
              td
                form( method="post", action="/posts/#{post._id}") 
                 input(type='hidden', name="_method", value="delete") 
                 input(type='hidden', name='_csrf', value="#{csrf_token}")
                 input(name="_id", type="hidden", value=post._id.toHexString()) 
                 button.btn.btn-default.glyphicon.glyphicon-trash(type='submit',onclick="return confirm('Are you sure to delete?')")
              td
                input.form-control(type='text', name="designation",value=post.designation, disabled='false',id='designation#{i}')=post.designation
              td
                input.form-control(type='text', name="minimum_qualification",value=post.minimum_qualification, disabled='false',id='minimum_qualification#{i}')=post.minimum_qualification
              td
                .input-group
                 span.input-group-addon Year
                 select.form-control(name='year',id='year#{i}',disabled='true')
                    if post.year == "0"
                      option(value=0, selected) 0
                    else
                      option(value=0) 0
                    if post.year == "1"
                      option(value=1, selected) 1
                    else
                      option(value=1) 1
                    if post.year == "2"
                      option(value=2, selected) 2
                    else
                      option(value=2) 2
                    if post.year == "3"
                      option(value=3, selected) 3
                    else
                      option(value=3) 3
                    if post.year == "4"
                      option(value=4, selected) 4
                    else
                      option(value=4) 4
                    if post.year == "5"
                      option(value=5, selected) 5
                    else
                      option(value=5) 5
                    if post.year == "6"
                      option(value=6, selected) 6
                    else
                      option(value=6) 6
                    if post.year == "7"
                      option(value=7, selected) 7
                    else
                      option(value=7) 7
                    if post.year == "8"
                      option(value=8, selected) 8 
                    else
                      option(value=8) 8
                    if post.year == "9"
                      option(value=9, selected) 9
                    else
                      option(value=9) 9
                    if post.year == "10"
                      option(value=10, selected) 10
                    else
                      option(value=10) 10
                    if post.year == "11"
                      option(value=11, selected) 11
                    else
                      option(value=11) 11
                    if post.year == "12"
                      option(value=12, selected) 12
                    else
                      option(value=12) 12
                    if post.year == "13"
                      option(value=13, selected) 13
                    else
                      option(value=13) 13
                    if post.year == "14"
                      option(value=14, selected) 14
                    else
                      option(value=14) 14
                    if post.year == "15"
                      option(value=15, selected) 15
                    else
                      option(value=15) 15
                    if post.year == "16"
                      option(value=16, selected) 16
                    else
                      option(value=16) 16
                    if post.year == "17"
                      option(value=17, selected) 17
                    else
                      option(value=17) 17
                    if post.year == "18"
                      option(value=18, selected) 18
                    else
                      option(value=18) 18
                    if post.year == "19"
                      option(value=19, selected) 19
                    else
                      option(value=19) 19
                    if post.year == "20"
                      option(value=20, selected) 20
                    else
                      option(value=20) 20
                .input-group
                 span.input-group-addon Month
                 select.form-control(name='month',id='month#{i}',disabled='true')
                    if post.month == "0"
                     option(value=0, selected) 0
                    else
                     option(value=0) 0
                    if post.month == "1"
                     option(value=1, selected) 1
                    else
                     option(value=1) 1
                    if post.month == "2"
                     option(value=2, selected) 2
                    else
                     option(value=2) 2
                    if post.month == "3"
                     option(value=3, selected) 3
                    else
                     option(value=3) 3
                    if post.month == "4"
                     option(value=4, selected) 4
                    else
                     option(value=4) 4
                    if post.month == "5"
                     option(value=5, selected) 5
                    else
                     option(value=5) 5
                    if post.month == "6"
                     option(value=6, selected) 6
                    else
                     option(value=6) 6
                    if post.month == "7"
                     option(value=7, selected) 7
                    else
                     option(value=7) 7
                    if post.month == "8"
                     option(value=8, selected) 8
                    else
                     option(value=8) 8
                    if post.month == "9"
                     option(value=9, selected) 9
                    else
                     option(value=9) 9
                    if post.month == "10"
                     option(value=10, selected) 10
                    else
                     option(value=10) 10
                    if post.month == "11"
                     option(value=11, selected) 11
                    else
                     option(value=11) 11

              td
                select.form-control(name="designation_type", id="designation_type#{i}", disabled='true')
                  if post.designation_type == "1"
                    option(value=1, selected) Contractual Position
                  else
                    option(value=1) Contractual Position

                  if post.designation_type == "2"
                    option(value=2, selected) Permanent Position
                  else
                    option(value=2) Permanent Position
              td
                select.form-control(name="designation_staff", id="designation_staff#{i}", disabled='true')
                  if post.designation_staff == "1"
                      option(value=1, selected) Scientific Staff
                  else
                      option(value=1) Scientific Staff
                  if post.designation_staff == "2"
                      option(value=2, selected) Technical Staff
                  else
                      option(value=2) Technical Staff

                  if post.designation_staff == "3"
                      option(value=3, selected) Admiistrative Staff
                  else
                      option(value=3) Admiistrative Staff

                  if post.designation_staff == "4"
                      option(value=4, selected) Academic Staff
                  else
                      option(value=4) Academic Staff
              td
                input(type="hidden", value=post._id.toHexString(), name="_id")
                button.btn.btn-default(onclick="enablepost('update#{i}','designation#{i}','minimum_qualification#{i}','designation_type#{i}','designation_staff#{i}','year#{i}','month#{i}')") Edit
              td
                form( method="post", action="/posts/#{post._id}") 
                  input(type='hidden', name="_method", value="put") 
                  input(type='hidden', name='_csrf', value="#{csrf_token}")
                  input(name="_id", type="hidden", value=post._id.toHexString()) 
                  button.btn.btn-default(type='submit', disabled='true',id='update#{i}',onclick="return confirm('Are you sure to Update?')") Update