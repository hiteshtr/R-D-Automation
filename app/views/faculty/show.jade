extends ../layouts/default

block main
  center
      h2|Faculty
block content
  center
    h4|List of Faculties  

  .table-responsive
    table(class='table table-striped table-bordered table-condensed')
      thead
        tr
          th #
          th Faculty Name
          th Department
          th Designation
          th
          th
      tbody   
        cnt = 0;
        - each fa in facs
          tr
            td
              form( method="post", action="/faculty/#{fa._id}") 
               input(type='hidden', name="_method", value="delete") 
               input(type='hidden', name='_csrf', value="#{csrf_token}")
               input(name="_id", type="hidden", value=fa._id.toHexString()) 
               span.glyphicon.glyphicon-trash(onclick="return confirm('Are you sure?')")
                  
            td
              div.form-control(type='text', disabled='disabled')= fa.faculty_name
            td
              - each dp in dept
                  if dp._id == fa.faculty_dept_id
                      div.form-control(type='text', disabled='disabled')= dp.department
            td  
             select.form-control(type='text', disabled='disabled')
               - each po in posts
                  option(value=po._id) 
                   if po._id == fa.faculty_desig_id
                     div= po.post_name
                  - each po in posts
                   option(value=po._id)= po.post_name
            td
              form(method="get", action="/faculty/:id/edit")
               input(name="_id", type="hidden", value=fa._id.toHexString())
               button.btn.btn-default Edit
            td
              form( method="post", action="/faculty/:id") 
               input(type='hidden', name="_method", value="put") 
               input(type='hidden', name='_csrf', value="#{csrf_token}")
               input(name="_id", type="hidden", value=fa._id.toHexString()) 
               button.btn.btn-default(type='submit', disabled='disabled') Update
    