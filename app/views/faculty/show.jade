extends ../layouts/default

block main
  center
      h2|Faculty
block content
  center
    h4|List of Faculties  

  .table-responsive
    table(class='table table-striped table-bordered table-condensed')
      thead
        tr
          th #
          th Faculty Name
          th Department
          th Designation
          th
          th
      tbody   
        cnt = 0;
        - each fa in facs
          tr
            td= ++cnt            
            td= fa.faculty_name
            td
              - each dp in dept
                  if dp._id == fa.faculty_dept_id
                      div= dp.department
            td  
              - each po in posts
                 if po._id == fa.faculty_desig_id
                      div= po.post_name
            td
              form(method="get", action="/faculty/:id/edit")
                 input(name="_id", type="hidden", value=fa._id.toHexString())
                 input(type="submit", value="Edit", class="formLink")
            td
              form( method="post", action="/faculty/:id") 
                 input(type='hidden', name="_method", value="delete") 
                 input(type='hidden', name='_csrf', value="#{csrf_token}")
                 input(name="_id", type="hidden", value=fa._id.toHexString()) 
                 input(type="submit", value="Delete", class="formLink")
      tbody
        if cnt == 0
         tr
           td
           td No entries found
           td
           td
           td
           td